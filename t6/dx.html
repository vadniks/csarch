<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>a</title>
        <script>
            function aa() {
                const d = `{
                  crs {
                    id
                    tl
                    br {
                      id
                      nm
                    }
                    pr
                    ag
                  }
                }`
                
                fetch('/g', {
                    method: 'post',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query: d })
                }).then(s => s.json()).then(j => {
                    const d = ff()
                    for (const i of j.data.crs) {
                        const p = document.createElement('p')
                        p.textContent = i.id + ' ' + i.tl + ` {${i.br.id} ${i.br.nm}} ` + i.pr + ' ' + i.ag
                        d.appendChild(p)
                    }
                })
            }
            
            function bb() {
                const d = `{
                  brs {
                    id
                    nm
                  }
                }`

                fetch('/g', {
                    method: 'post',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query: d })
                }).then(s => s.json()).then(j => {
                    const d = ff()
                    for (const i of j.data.brs) {
                        const p = document.createElement('p')
                        p.textContent = i.id + ' ' + i.nm
                        d.appendChild(p)
                    }
                })
            }
            
            function cc() {
                const n = document.querySelectorAll('#d > #b > input')
                const d = `mutation {
                  ddc(
                    id: ${parseInt(n[0].value)},
                    tl: "${n[1].value}",
                    bd: ${parseInt(n[2].value)},
                    pr: ${parseInt(n[3].value)},
                    ag: ${parseInt(n[4].value)}
                  ) {
                    id,
                    tl,
                    br {
                      id
                      nm
                    }
                    pr,
                    ag
                  }
                }`

                fetch('/g', {
                    method: 'post',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query: d })
                }).then(s => s.json()).then(i => {
                    const j = i.data.ddc, d = ff(), p = document.createElement('p')
                    p.textContent = j.id + ' ' + j.tl + ` {${j.br.id} ${j.br.nm}} ` + j.pr + ' ' + j.ag
                    d.appendChild(p)
                })
            }
            
            function ff() { const a = document.getElementById('a'); a.innerHTML = ''; return a }
            
            function dd() {
                const n = document.querySelectorAll('#d > #c > input')
                const d = `mutation {
                  ddb(id: ${parseInt(n[0].value)}, nm: "${n[1].value}") {
                    id
                    nm
                  }
                }`

                fetch('/g', {
                    method: 'post',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ query: d })
                }).then(s => s.json()).then(i => {
                    const j = i.data.ddb, d = ff(), p = document.createElement('p')
                    p.textContent = j.id + ' ' + j.nm
                    d.appendChild(p)
                })
            }
        </script>
    </head>
    <body style="
        display: flex;
        flex-direction: row;
    ">
        <div style="padding: 5px">
            <button onclick="aa()">crs</button><br/>
            <button onclick="bb()">brs</button><br/>
            <button onclick="cc()">ddc</button><br/>
            <button onclick="dd()">ddb</button><br/>
        </div>
        
        <div id="d" style="padding: 5px">
            <div id="b">
                <span>cr:</span><br/>
                <input type="number" placeholder="id"><br/>
                <input type="text" placeholder="tl"><br/>
                <input type="text" placeholder="bd"><br/>
                <input type="text" placeholder="pr"><br/>
                <input type="text" placeholder="ag">
            </div>
            <div id="c">
                <span>br:</span><br/>
                <input type="number" placeholder="id"><br/>
                <input type="text" placeholder="nm">
            </div>
        </div>
        
        <div id="a" style="padding: 5px"></div>
    </body>
</html>